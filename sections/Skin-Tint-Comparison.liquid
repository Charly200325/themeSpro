{% schema %}
{
  "name": "Skin Tint Comparison",
  "tag": "section",
  "class": "skin-tint-comparison",
  "settings": [],
  "presets": [
    {
      "name": "Skin Tint Comparison"
    }
  ]
}
{% endschema %}

{% style %}
.skin-tint-comparison {
  background-color: #FAF0E7;
  padding: 60px 20px;
  font-family: 'Hanken Grotesk', sans-serif;
  text-align: center;
}

.skin-tint-comparison h2 {
  font-size: 34px;
  color: #27201A;
  margin-bottom: 10px;
}

.skin-tint-comparison p.subtitle {
  font-size: 17px;
  color: #27201A;
  max-width: 600px;
  margin: 0 auto 40px;
}

.comparison-wrapper {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
  gap: 30px;
}

.comparison-box {
  background: white;
  padding: 30px 20px;
  border-radius: 20px;
  max-width: 300px;
  flex: 1;
}

.comparison-box img.percent {
  max-width: 100px;
  margin-bottom: 15px;
}

.comparison-box h3 {
  font-size: 15px;
  color: #8F6C4F;
  text-transform: uppercase;
  margin-bottom: 10px;
  font-weight: bold;
}

.comparison-box p {
  font-size: 15px;
  color: #27201A;
  line-height: 1.5;
  margin: 0;
}

.comparison-image {
  position: relative;
  max-width: 320px;
  flex-shrink: 0;
}

.comparison-image img {
  width: 100%;
  display: block;
  border-radius: 20px;
  position: absolute;
  top: 0;
  left: 0;
  transition: clip-path 0.3s ease;
}

.comparison-image .after {
  z-index: 2;
  clip-path: inset(0 50% 0 0);
}

.comparison-image .before {
  z-index: 1;
}

.comparison-image input[type="range"] {
  -webkit-appearance: none;
  width: 100%;
  position: absolute;
  bottom: -30px;
  left: 0;
  z-index: 3;
}

.comparison-image input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  height: 30px;
  width: 30px;
  background: #ccc;
  border-radius: 50%;
  cursor: pointer;
}

@media (max-width: 768px) {
  .comparison-wrapper {
    flex-direction: column;
  }

  .comparison-image {
    width: 100%;
    max-width: 100%;
    margin-bottom: 40px;
  }

  .comparison-box {
    background: none;
    padding: 0;
    border-radius: 0;
    max-width: 100%;
    background-color: #FBF1E8;
  }

  .skin-tint-comparison {
    background-color: #FBF1E8;
  }

  .comparison-box img.percent {
    margin-bottom: 10px;
  }

  .comparison-box h3 {
    font-size: 16px;
    color: #8F6C4F;
  }

  .comparison-box p {
    color: #27201A;
  }

  .comparison-box + .comparison-box {
    margin-top: 30px;
  }

  .comparison-image input[type="range"] {
    display: block;
    top: auto;
    bottom: -20px;
  }
}
{% endstyle %}

{% javascript %}
document.addEventListener("DOMContentLoaded", function () {
  const sliders = document.querySelectorAll(".comparison-image input[type='range']");
  sliders.forEach(slider => {
    const afterImg = slider.closest(".comparison-image").querySelector(".after");
    slider.addEventListener("input", function () {
      afterImg.style.clipPath = `inset(0 ${100 - this.value}% 0 0)`;
    });
  });
});
{% endjavascript %}

<div class="skin-tint-comparison">
  <h2>This Is NOT Just Another Skin Tint</h2>
  <p class="subtitle">Itâ€™s the skincare-infused beauty balm that gives you flawless, second-skin coverage in one effortless swipe.</p>

  <div class="comparison-wrapper">
    <!-- 94% -->
    <div class="comparison-box">
      <img class="percent" src="https://cdn.shopify.com/s/files/1/0964/4130/3378/files/gempages_534627086933951483-5dca7f85-6cd3-4e9e-87c1-b4f8ad45d096.webp?v=1747519864" alt="94%">
      <h3>Instant Coverage</h3>
      <p>94% of women agreed it instantly <strong>blurred dark spots and hyperpigmentation</strong>, creating a more even skin tone.</p>
    </div>

    <!-- Image slide -->
    <div class="comparison-image">
      <img class="before" src="https://cdn.shopify.com/s/files/1/0964/4130/3378/files/gempages_534627086933951483-8667cc12-7109-4ed7-8291-fc0441e86a22.webp?v=1747443210" alt="Before">
      <img class="after" src="https://cdn.shopify.com/s/files/1/0964/4130/3378/files/gempages_534627086933951483-1952e8f3-31e9-426b-9fb3-e2f9f49722fe.webp?v=1747443210" alt="After">
      <input type="range" min="0" max="100" value="50">
    </div>

    <!-- 97% -->
    <div class="comparison-box">
      <img class="percent" src="https://cdn.shopify.com/s/files/1/0964/4130/3378/files/gempages_534627086933951483-a1b1a9e2-34f6-43c9-96c4-5203b907c2f5.webp?v=1747519865" alt="97%">
      <h3>Second-Skin Feel</h3>
      <p>97% said it felt breathable and weightless, <strong>blending seamlessly</strong> into their natural complexion.</p>
    </div>
  </div>
</div>
