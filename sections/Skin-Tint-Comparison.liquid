{% schema %}
{
  "name": "pourcentage-slider",
  "tag": "section",
  "class": "pourcentage-slider-section",
  "settings": [],
  "presets": [
    {
      "name": "Pourcentage Slider"
    }
  ]
}
{% endschema %}

{% style %}
.pourcentage-slider-section {
  font-family: 'Hanken Grotesk', sans-serif;
  background-color: #FAF0E7;
  padding: 60px 20px;
  text-align: center;
}

.pourcentage-slider-section h2 {
  font-size: 34px;
  font-weight: 500;
  margin-bottom: 10px;
  color: #27201A;
}

.pourcentage-slider-section p.subtitle {
  font-size: 17px;
  color: #27201A;
  max-width: 600px;
  margin: 0 auto 40px;
}

.slider-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
  gap: 30px;
  position: relative;
}

.comparison-container {
  position: relative;
  max-width: 500px;
  border-radius: 20px;
  overflow: hidden;
}

.comparison-container img {
  width: 100%;
  display: block;
  border-radius: 20px;
}

.comparison-slider {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 2px;
  height: 100%;
  background-color: white;
  z-index: 10;
}

.comparison-slider::before {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  width: 26px;
  height: 26px;
  background-color: white;
  border-radius: 50%;
  transform: translate(-50%, -50%);
  z-index: 11;
  box-shadow: 0 0 5px rgba(0,0,0,0.2);
}

.label-before, .label-after {
  position: absolute;
  bottom: 10px;
  background-color: #C39F83;
  color: white;
  font-size: 12px;
  padding: 4px 10px;
  border-radius: 8px;
  font-weight: bold;
  z-index: 20;
}
.label-before {
  right: 10px;
}
.label-after {
  left: 10px;
}

.percent-blocks {
  display: flex;
  justify-content: center;
  gap: 40px;
  margin-top: 40px;
  flex-wrap: wrap;
}

.percent-box {
  max-width: 300px;
}

.percent-box img {
  max-width: 100px;
  margin: 0 auto 15px;
}

.percent-box h3 {
  font-size: 15px;
  color: #8F6C4F;
  text-transform: uppercase;
  margin-bottom: 10px;
  font-weight: bold;
}

.percent-box p {
  font-size: 15px;
  color: #27201A;
  line-height: 1.5;
  margin: 0;
}

.percent-box p strong {
  font-weight: 700;
  color: #3D2C24;
}

/* Responsive */
@media (max-width: 768px) {
  .percent-blocks {
    flex-direction: column;
    background-color: #FBF1E8;
    margin-top: 30px;
    padding: 30px 10px;
  }

  .comparison-container {
    width: 100%;
    max-width: 100%;
  }
}
{% endstyle %}

<div class="pourcentage-slider-section">
  <h2>This Is NOT Just Another Skin Tint</h2>
  <p class="subtitle">It’s the skincare-infused beauty balm that gives you flawless, second-skin coverage in one effortless swipe.</p>

  <div class="slider-wrapper">
    <div class="comparison-container">
      <!-- AFTER image (à gauche, en arrière-plan) -->
      <img src="https://cdn.shopify.com/s/files/1/0964/4130/3378/files/gempages_534627086933951483-1952e8f3-31e9-426b-9fb3-e2f9f49722fe.webp?v=1747443210" alt="After image">

      <!-- BEFORE image (à droite, en avant-plan avec mask JS dans vraie version) -->
      <div class="comparison-slider"></div>

      <div class="label-after">AFTER</div>
      <div class="label-before">BEFORE</div>
    </div>
  </div>

  <div class="percent-blocks">
    <div class="percent-box">
      <img class="percent" src="https://cdn.shopify.com/s/files/1/0964/4130/3378/files/gempages_534627086933951483-5dca7f85-6cd3-4e9e-87c1-b4f8ad45d096.webp?v=1747519864" alt="94%">
      <h3>Instant Coverage</h3>
      <p>94% of women agreed it instantly <strong>blurred dark spots and hyperpigmentation</strong>, creating a more even skin tone.</p>
    </div>

    <div class="percent-box">
      <img class="percent" src="https://cdn.shopify.com/s/files/1/0964/4130/3378/files/gempages_534627086933951483-a1b1a9e2-34f6-43c9-96c4-5203b907c2f5.webp?v=1747519865" alt="97%">
      <h3>Second-Skin Feel</h3>
      <p>97% said it felt breathable and weightless, <strong>blending seamlessly</strong> into their natural complexion.</p>
    </div>
  </div>
</div>
